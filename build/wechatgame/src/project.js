window.__require=function t(o,e,n){function i(r,c){if(!e[r]){if(!o[r]){var h=r.split("/");if(h=h[h.length-1],!o[h]){var d="function"==typeof __require&&__require;if(!c&&d)return d(h,!0);if(s)return s(h,!0);throw new Error("Cannot find module '"+r+"'")}}var u=e[r]={exports:{}};o[r][0].call(u.exports,function(t){return i(o[r][1][t]||t)},u,u.exports,t,o,e,n)}return e[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({fourTouchNodesView:[function(t,o,e){"use strict";cc._RF.push(o,"00e17cGSJtDDLHPttqvVIpL","fourTouchNodesView"),cc.Class({extends:cc.Component,properties:{labels:{default:[],type:cc.Label},touchNodes:{default:[],type:cc.Node},_lineStartNode:null,_lineEndNode:null,_letters:null,_letterArr:[]},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){console.log("touch start"),this._lineStartNode=null,this._lineEndNode=null,this._letterArr=[];var o=t.getLocation(),e=this.node.convertToNodeSpaceAR(o);this.touchNodes.forEach(function(t,o){t.getBoundingBox().contains(e)&&(this._lineStartNode=t,this._letterArr.push(this.labels[o].string))}.bind(this))},this),this.node.on(cc.Node.EventType.TOUCH_UP,function(t){console.log("touch up"),this._lineStartNode=null,this._lineEndNode=null,this._letterArr=[]},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(console.log("touch move"),this._lineStartNode&&!this._lineEndNode){var o=t.getLocation(),e=this.node.convertToNodeSpaceAR(o);this.touchNodes.forEach(function(t,o){if(t.getBoundingBox().contains(e)&&t!=this._lineStartNode){this._lineEndNode=t,this._letterArr.push(this.labels[o].string);var n=this._letterArr.join(""),i=new cc.Event.EventCustom("match_word",!0);i.detail={word:n},this.node.dispatchEvent(i)}}.bind(this))}},this)},start:function(){},setLetters:function(t){this._letters=t,this.reload()},reload:function(){this._letters instanceof Array&&this._letters.length>=this.labels.length&&this.labels.forEach(function(t,o){t.string=this._letters[o]}.bind(this))}}),cc._RF.pop()},{}],mainScene:[function(t,o,e){"use strict";cc._RF.push(o,"280c3rsZJJKnZ9RqbALVwtK","mainScene");var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};cc.Class({extends:cc.Component,properties:{twoTouchNodesPrefab:cc.Prefab,threeTouchNodesPrefab:cc.Prefab,fourTouchNodesPrefab:cc.Prefab,wordPrefab:cc.Prefab,touchNode:cc.Node,content:cc.Node,lblPass:cc.Label,_words:null,_wordArr:[],_passWordArr:[]},onLoad:function(){this.lblPass.node.active=!1,console.log("main scene onload"),this.node.on("match_word",function(t){var o=t.detail.word;this._wordArr.length>0&&this._wordArr.forEach(function(t){if(o==t){if(this.checkAllWordsPassed())return void(this.lblPass.node.active=!0);if(this._passWordArr.length>0)for(var e=0;e<this._passWordArr.length;++e)this._passWordArr[e]!=o&&this.showPassedWord(o);else this.showPassedWord(o)}}.bind(this))}.bind(this)),this.setWords("in,ok,no")},reload:function(){if("string"==typeof this._words){this._wordArr=this._words.split(",");var t=[];this._wordArr.forEach(function(o){for(var e=0;e<o.length;++e)t.push(o[e])});var o=null,e="";switch((t=this.uniq(t)).length){case 2:o=this.twoTouchNodesPrefab,e="twoTouchNodesView";break;case 3:o=this.threeTouchNodesPrefab,e="threeTouchNodesView";break;case 4:o=this.fourTouchNodesPrefab,e="fourTouchNodesView"}if(o&&""!=e){var n=cc.instantiate(o);if(n){this.touchNode.addChild(n);var i=n.getComponent(e);i&&i.setLetters(t)}}}},showPassedWord:function(t){var o=cc.instantiate(this.wordPrefab);if(o){this.content.addChild(o);var e=o.getComponent("wordView");e&&(e.setWord(t),this._passWordArr.push(t))}},checkAllWordsPassed:function(){return this._passWordArr.length>=this._wordArr.length},uniq:function(t){for(var o={},e=[],i=t.length,s=void 0,r=void 0,c=0;c<i;c++)r=void 0===(s=t[c])?"undefined":n(s),o[s]?o[s].indexOf(r)<0&&(o[s].push(r),e.push(s)):(o[s]=[r],e.push(s));return e},setWords:function(t){this._words=t,this.reload()},update:function(t){},onButtonTapped:function(){console.log("tttttt")}}),cc._RF.pop()},{}],threeTouchNodesView:[function(t,o,e){"use strict";cc._RF.push(o,"4979bVp7lBN0opWYWh7vgkl","threeTouchNodesView"),cc.Class({extends:cc.Component,properties:{labels:{default:[],type:cc.Label},touchNodes:{default:[],type:cc.Node}},onLoad:function(){this.touchNodes.forEach(function(t){t.on(cc.Node.EventType.MOUSE_DOWN,function(o){this._lineStartNode?console.log("there is a touch down before"):this._lineStartNode=t},this)}),this.touchNodes.forEach(function(t){t.on(cc.Node.EventType.MOUSE_UP,function(t){this._lineStartNode=null,this._lineEndNode=null},this)}),this.touchNodes.forEach(function(t){t.on(cc.Node.EventType.MOUSE_MOVE,function(t){this._lineStartNode&&this._lineStartNode},this)})},start:function(){}}),cc._RF.pop()},{}],twoTouchNodesView:[function(t,o,e){"use strict";cc._RF.push(o,"a35990NNFNI7oAdTqoIP495","twoTouchNodesView"),cc.Class({extends:cc.Component,properties:{labels:{default:[],type:cc.Label},touchNodes:{default:[],type:cc.Node}},onLoad:function(){this.touchNodes.forEach(function(t){t.on(cc.Node.EventType.MOUSE_DOWN,function(o){this._lineStartNode?console.log("there is a touch down before"):this._lineStartNode=t},this)}),this.touchNodes.forEach(function(t){t.on(cc.Node.EventType.MOUSE_UP,function(t){this._lineStartNode=null,this._lineEndNode=null},this)}),this.touchNodes.forEach(function(t){t.on(cc.Node.EventType.MOUSE_MOVE,function(t){this._lineStartNode&&this._lineStartNode},this)})},start:function(){}}),cc._RF.pop()},{}],wordView:[function(t,o,e){"use strict";cc._RF.push(o,"b9d7eNufJRFU6iWkpajmvf0","wordView"),cc.Class({extends:cc.Component,properties:{label:cc.Label,_word:""},start:function(){},setWord:function(t){this._word=t,this.reload()},reload:function(){this._word&&(this.label.string=this._word)}}),cc._RF.pop()},{}]},{},["fourTouchNodesView","threeTouchNodesView","twoTouchNodesView","wordView","mainScene"]);
//# sourceMappingURL=project.js.map